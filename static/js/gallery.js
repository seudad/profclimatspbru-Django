"use strict";jQuery.fn.center=function(){this.css("position","fixed");this.css("top",(($(window).height()- $('#gallery-image-info').outerHeight()-this.outerHeight())/2)+"px");this.css("left",(($(window).width()-this.outerWidth())/2)+"px");return this};var nIMG={_show:null,_current:null,_img:null};nIMG.show=function(p_item){nIMG._current=$(p_item);let v_img=nIMG._current.find('img');let v_src=v_img.attr('src');nIMG._index=Number(nIMG._current.data('no')); $('#gallery-image-no').text(nIMG._index+1); $('#gallery-image-info').outerHeight(); $('#gallery-image-title').text(nIMG._current.find('.gallery-item-title').text()); $('#gallery-image-desc').html(nIMG._current.find('.gallery-item-desc').html());nIMG._img.attr('src',v_src);nIMG._show.show();let v_cw=$('#gallery-image-prev').outerWidth()+ $('#gallery-image-next').outerWidth();nIMG.resize();nIMG._img.center()};nIMG.resize=function(){if(nIMG._img.is(':visible')){let v_ww=$(window).width();let v_wh=$(window).height();v_wh-=$('#gallery-image-info').outerHeight();nIMG._img.css({'max-height':v_wh+'px','max-width':v_ww+'px'}).center()}};nIMG.prev=function(){if(nIMG._index-1>=0){nIMG._index--;let v_prev=nIMG._images[nIMG._index];nIMG.show(v_prev)}};nIMG.next=function(){if(nIMG._index+1<nIMG._images.length){nIMG._index++;let v_next=nIMG._images[nIMG._index];nIMG.show(v_next)}};nIMG.close=function(){nIMG._show.hide()};nIMG.init=function(){nIMG._show=$('#gallery-image-show');nIMG._img=$('#gallery-image-show-img');nIMG._images=$('#gallery-header div.gallery-item'); $('#gallery-header').on('click','div.gallery-item',function(){nIMG.show($(this))}); $(window).resize(nIMG.resize); $('#gallery-image-prev').click(nIMG.prev); $('#gallery-image-next').click(nIMG.next); $(document).keydown(function(p_event){if(p_event.which===27&&nIMG._img.is(':visible')){nIMG._show.hide()}}); $('#gallery-image-show-close').click(nIMG.close)}; $(document).ready(function(){nUSER.init();nFIND.init();nHEADER.init();nIMG.init()});