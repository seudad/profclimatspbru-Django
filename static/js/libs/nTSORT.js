"use strict";function nTSORT(p_ref,p_sorted){let v_self=this;v_self.tab=p_ref;v_self.after;v_self.before;v_self.asc=true;v_self.thead=v_self.tab.getElementsByTagName('thead')[0];v_self.tbody=v_self.tab.getElementsByTagName('tbody')[0];v_self.titles=v_self.tab.getElementsByTagName('th');v_self.sorted=(typeof p_sorted==='function'?p_sorted:function(p_col_no){v_self.col_no=p_col_no;for(let v_i=0;v_i<v_self.titles.length;v_i++){v_self.titles[v_i].classList.remove("asc");v_self.titles[v_i].classList.remove("desc");if(Number(v_self.titles[v_i].getAttribute('data-col'))===p_col_no){v_self.titles[v_i].classList.add((v_self.asc?"asc":"desc"))}}});v_self.col_no;v_self.cmp={};v_self.cmp.string=function(p_row_a,p_row_b){let v_a=p_row_a.cells[v_self.col_no].innerHTML.toLowerCase();let v_b=p_row_b.cells[v_self.col_no].innerHTML.toLowerCase();return(v_a>v_b?1:(v_a<v_b?-1:0))};v_self.cmp.String=function(p_row_a,p_row_b){if(p_row_a.cells[v_self.col_no].innerHTML>p_row_b.cells[v_self.col_no].innerHTML){return 1}if(p_row_a.cells[v_self.col_no].innerHTML<p_row_b.cells[v_self.col_no].innerHTML){return-1}return 0};v_self.cmp.number=function(p_row_a,p_row_b){return Number(p_row_a.cells[v_self.col_no].innerHTML)-Number(p_row_b.cells[v_self.col_no].innerHTML)};this.thead.onclick=function(p_event){if(p_event.target.tagName!=='TH'||!p_event.target.classList.contains('sortable')){console.log('thead.onclick.020:');return}v_self.sort_tbody(Number(p_event.target.getAttribute('data-col')),p_event.target.getAttribute('data-type'))};v_self.sort_tbody=function(p_col_no,p_type){let v_compare=v_self.cmp[p_type];if(v_compare===undefined){console.log('v_self.sort_tbody.020E:',p_col_no,p_type,v_compare);return}(typeof v_self.before==='function'?v_self.before():0);v_self.asc=(v_self.col_no===p_col_no?!v_self.asc:true);v_self.col_no=p_col_no;let v_rows_array=[].slice.call(v_self.tbody.rows);v_rows_array.sort(v_compare);if(!v_self.asc){v_rows_array.reverse()}v_self.tab.removeChild(v_self.tbody);let v_seqno=(v_self.tab.getAttribute('data-seqno')?Number(v_self.tab.getAttribute('data-seqno')):0);let v_renum=v_self.titles[v_seqno].getAttribute('data-type')==='seqno';for(let v_i=0;v_i<v_rows_array.length;v_i++){if(v_renum){v_rows_array[v_i].cells[v_seqno].innerHTML=(v_i+1)}v_self.tbody.appendChild(v_rows_array[v_i])}v_self.tab.appendChild(v_self.tbody);v_self.sorted(p_col_no);(typeof v_self.after==='function'?v_self.after():0)}}